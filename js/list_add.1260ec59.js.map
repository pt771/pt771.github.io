{"version":3,"file":"js/list_add.1260ec59.js","mappings":"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","sources":["webpack://vuepro-02/./src/components/goods/Add.vue","webpack://vuepro-02/src/components/goods/Add.vue","webpack://vuepro-02/./src/components/goods/Add.vue?66df","webpack://vuepro-02/./src/components/goods/Add.vue?e325","webpack://vuepro-02/./src/components/goods/List.vue","webpack://vuepro-02/src/components/goods/List.vue","webpack://vuepro-02/./src/components/goods/List.vue?4646","webpack://vuepro-02/./src/components/goods/List.vue?784f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"添加商品\")])],1),_c('el-card',[_c('el-alert',{attrs:{\"title\":\"添加商品信息\",\"type\":\"info\",\"center\":\"\",\"show-icon\":\"\",\"closable\":false}}),_c('el-steps',{attrs:{\"active\":_vm.activeStepNum  - 0,\"align-center\":\"\",\"space\":200,\"finish-status\":\"success\"}},[_c('el-step',{attrs:{\"title\":\"基本信息\"}}),_c('el-step',{attrs:{\"title\":\"商品参数\"}}),_c('el-step',{attrs:{\"title\":\"商品属性\"}}),_c('el-step',{attrs:{\"title\":\"商品图片\"}}),_c('el-step',{attrs:{\"title\":\"商品内容\"}}),_c('el-step',{attrs:{\"title\":\"完成\"}})],1),_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"100px\",\"label-position\":\"top\"}},[_c('el-tabs',{attrs:{\"tab-position\":'left',\"before-leave\":_vm.beforTabLeave},on:{\"tab-click\":_vm.tabClicked},model:{value:(_vm.activeStepNum),callback:function ($$v) {_vm.activeStepNum=$$v},expression:\"activeStepNum\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基本信息\",\"name\":\"0\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\"}},[_c('el-input',{model:{value:(_vm.addForm.goods_name),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_name\", $$v)},expression:\"addForm.goods_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"prop\":\"goods_price\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.addForm.goods_price),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_price\", $$v)},expression:\"addForm.goods_price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品重量\",\"prop\":\"goods_weight\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.addForm.goods_weight),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_weight\", $$v)},expression:\"addForm.goods_weight\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品数量\",\"prop\":\"goods_number\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.addForm.goods_number),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_number\", $$v)},expression:\"addForm.goods_number\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品分类\",\"prop\":\"goods_cat\"}},[_c('el-cascader',{attrs:{\"options\":_vm.cateList,\"props\":{ expandTrigger:'hover', ..._vm.cateProps  }},on:{\"change\":_vm.handleChange},model:{value:(_vm.addForm.goods_cat),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_cat\", $$v)},expression:\"addForm.goods_cat\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"商品参数\",\"name\":\"1\"}},_vm._l((_vm.manyTabData),function(item){return _c('el-form-item',{key:item.attr_id,attrs:{\"label\":item.attr_name}},[_c('el-checkbox-group',{model:{value:(item.attr_vals),callback:function ($$v) {_vm.$set(item, \"attr_vals\", $$v)},expression:\"item.attr_vals\"}},_vm._l((item.attr_vals),function(cb,i){return _c('el-checkbox',{key:i,attrs:{\"label\":cb,\"border\":\"\"}})}),1)],1)}),1),_c('el-tab-pane',{attrs:{\"label\":\"商品属性\",\"name\":\"2\"}},_vm._l((_vm.onlyTabData),function(item){return _c('el-form-item',{key:item.attr_id,attrs:{\"label\":item.attr_name}},[_c('el-input',{model:{value:(item.attr_vals),callback:function ($$v) {_vm.$set(item, \"attr_vals\", $$v)},expression:\"item.attr_vals\"}})],1)}),1),_c('el-tab-pane',{attrs:{\"label\":\"商品图片\",\"name\":\"3\"}},[_c('el-upload',{attrs:{\"action\":_vm.uploadUrl,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"list-type\":\"picture\",\"headers\":_vm.headersObj}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")])],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"商品内容\",\"name\":\"4\"}},[_c('quill-editor',{model:{value:(_vm.addForm.goods_introduce),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_introduce\", $$v)},expression:\"addForm.goods_introduce\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\" 添加商品 \")])],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"图片预览\",\"visible\":_vm.previewVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.previewVisible=$event}}},[_c('img',{staticClass:\"previewImg\",attrs:{\"src\":_vm.previewPath,\"alt\":\"\"}})])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n            <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n            <el-breadcrumb-item>添加商品</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n    <!-- 卡片试图 -->\r\n    <el-card>\r\n        <!-- 警告区域 -->\r\n        <el-alert title=\"添加商品信息\" type=\"info\" center show-icon :closable=false></el-alert>\r\n        <!-- 步骤条 -->\r\n        <el-steps :active=\"activeStepNum  - 0\" align-center :space=\"200\" finish-status=\"success\" >\r\n            <el-step title=\"基本信息\" ></el-step>\r\n            <el-step title=\"商品参数\" ></el-step>\r\n            <el-step title=\"商品属性\" ></el-step>\r\n            <el-step title=\"商品图片\" ></el-step>\r\n            <el-step title=\"商品内容\" ></el-step>\r\n            <el-step title=\"完成\" ></el-step>\r\n        </el-steps>\r\n\r\n        <!-- form表单 -->\r\n        <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"100px\" label-position=\"top\">\r\n        <!-- tab栏区域 -->\r\n            <el-tabs :tab-position=\"'left'\"  v-model=\"activeStepNum\" :before-leave=\"beforTabLeave\" @tab-click=\"tabClicked\">\r\n                <el-tab-pane label=\"基本信息\" name=\"0\">\r\n                    <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n                        <el-input v-model=\"addForm.goods_name\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n                        <el-input v-model=\"addForm.goods_price\" type=\"number\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n                        <el-input v-model=\"addForm.goods_weight\" type=\"number\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n                        <el-input v-model=\"addForm.goods_number\" type=\"number\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n                        <el-cascader v-model=\"addForm.goods_cat\" :options=\"cateList\" :props=\"{ expandTrigger:'hover', ...cateProps  }\"\r\n                        @change=\"handleChange\">\r\n\r\n                        </el-cascader>\r\n                    </el-form-item>\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"商品参数\" name=\"1\">\r\n                    <el-form-item :label=\"item.attr_name\" v-for=\"item in manyTabData\" :key=\"item.attr_id\">\r\n                        <el-checkbox-group v-model=\"item.attr_vals\">\r\n                            <el-checkbox :label=\"cb\" v-for=\"(cb,i) in item.attr_vals\" :key=\"i\" border></el-checkbox>\r\n                        </el-checkbox-group>\r\n                    </el-form-item>\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"商品属性\" name=\"2\">\r\n                    <el-form-item :label=\"item.attr_name\" v-for=\"item in onlyTabData\" :key=\"item.attr_id\">\r\n                        <el-input v-model=\"item.attr_vals\"></el-input>\r\n                    </el-form-item>\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"商品图片\" name=\"3\">\r\n                    <el-upload\r\n                         :action=\"uploadUrl\"\r\n                         :on-preview=\"handlePreview\"\r\n                         :on-remove=\"handleRemove\"\r\n                         :on-success=\"handleSuccess\"\r\n                         list-type=\"picture\" :headers=\"headersObj\">\r\n                        <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                        <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n                    </el-upload>\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"商品内容\" name=\"4\">\r\n                    <!-- 富文本区域 -->\r\n                    <quill-editor\r\n                        v-model=\"addForm.goods_introduce\">\r\n                    </quill-editor>\r\n                    <!-- 添加商品按钮 -->\r\n                    <el-button type=\"primary\" @click=\"add\">\r\n                        添加商品\r\n                    </el-button>\r\n                </el-tab-pane>\r\n            </el-tabs>\r\n\r\n        </el-form>\r\n        <el-dialog title=\"图片预览\" :visible.sync=\"previewVisible\" width=\"50%\" >\r\n            <img :src=\"previewPath\" alt=\"\" class=\"previewImg\" >\r\n        </el-dialog>\r\n    </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\n\r\nexport default {\r\n\r\n  data() {\r\n    return {\r\n      activeStepNum: '0',\r\n      cateList: [],\r\n      cateProps: {\r\n        label: 'cat_name',\r\n        value: 'cat_id',\r\n        children: 'children'\r\n      },\r\n      addForm: {\r\n        goods_name: '',\r\n        goods_weight: 0,\r\n        goods_price: 0,\r\n        goods_number: 0,\r\n        goods_cat: [],\r\n        pics: [],\r\n        goods_introduce: '',\r\n        attrs: []\r\n      },\r\n      addFormRules: {\r\n        goods_name: [\r\n          { required: true, message: '请输入商品名称', trigger: 'blur' }\r\n        ],\r\n        goods_weight: [\r\n          { required: true, message: '请输入商品重量', trigger: 'blur' }\r\n        ],\r\n        goods_price: [\r\n          { required: true, message: '请输入商品价格', trigger: 'blur' }\r\n        ],\r\n        goods_number: [\r\n          { required: true, message: '请输入商品数量', trigger: 'blur' }\r\n        ],\r\n        goods_number: [\r\n          { required: true, message: '请选择商品分类', trigger: 'blur' }\r\n        ]\r\n      },\r\n\r\n      manyTabData: [],\r\n      onlyTabData: [],\r\n      uploadUrl: 'https://lianghj.top:8888/api/private/v1/upload',\r\n      headersObj: {\r\n        Authorization: window.sessionStorage.getItem('token')\r\n      },\r\n      previewPath: '',\r\n      previewVisible: false\r\n\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.getCateList()\r\n  },\r\n  computed: {\r\n    cateId() {\r\n      if (this.addForm.goods_cat.length === 3) {\r\n        return this.addForm.goods_cat[2]\r\n      }\r\n      return null\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    async getCateList() {\r\n      const { data: res } = await this.$http.get('categories')\r\n      if (res.meta.status !== 200) return this.$message.error('获取数据列表失败！')\r\n      this.cateList = res.data\r\n    },\r\n    handleChange() {\r\n      console.log(this.addForm.goods_cat)\r\n      if (this.addForm.goods_cat.length !== 3) {\r\n        this.addForm.goods_cat = []\r\n      }\r\n    },\r\n    beforTabLeave(activeName, oldActiveName) {\r\n      if (oldActiveName = '0' && this.addForm.goods_cat.length !== 3) {\r\n        this.$message.error('请先选择商品分类！')\r\n        return false\r\n      }\r\n    },\r\n    async tabClicked() {\r\n      /* 商品参数标签面 */\r\n      if (this.activeStepNum === '1') {\r\n        const { data: res } = await this.$http(`categories/${this.cateId}/attributes`, {\r\n          params: { sel: 'many' }\r\n        })\r\n        if (res.meta.status !== 200) return this.$message.error('获取参数失败！')\r\n        res.data.forEach(item => {\r\n          item.attr_vals = item.attr_vals.length === 0 ? [] : item.attr_vals.split(' ')\r\n        })\r\n        this.manyTabData = res.data\r\n      }\r\n      /* 商品属性标签页面 */\r\n\r\n      else if (this.activeStepNum === '2') {\r\n        const { data: res } = await this.$http(`categories/${this.cateId}/attributes`, {\r\n          params: { sel: 'only' }\r\n        })\r\n        if (res.meta.status !== 200) return this.$message.error('获取参数失败！')\r\n\r\n        this.onlyTabData = res.data\r\n      }\r\n\r\n    },\r\n    /* 图片上传操作 */\r\n    handlePreview(file) {\r\n      this.previewPath = file.response.data.url\r\n      this.previewVisible = true\r\n    },\r\n    /* 移除图片操作 */\r\n    handleRemove(file) {\r\n      const filePath = file.response.data.tem_path\r\n      const i = this.addForm.pics.findIndex(x =>\r\n        x.pic === filePath\r\n      )\r\n      this.addForm.pics.splice(i, 1)\r\n    },\r\n    /* 监听图片上传成功事件 */\r\n    handleSuccess(response) {\r\n      const picInfo = { pic: response.data.tem_path }\r\n      this.addForm.pics.push(picInfo)\r\n    },\r\n    add() {\r\n      this.$refs.addFormRef.validate(\r\n        async valid => {\r\n          if (!valid) {\r\n            return this.$message.error('请填写必要的表单项！')\r\n          }\r\n          /* 深拷贝表单 */\r\n          const form = _.cloneDeep(this.addForm)\r\n          form.goods_cat = form.goods_cat.join(',')\r\n          /* 获取attrs属性 */\r\n          this.manyTabData.forEach(item => {\r\n            const newInfo1 = { attr_id: item.attr_id, attr_vals: item.attr_vals.join(' ') }\r\n            this.addForm.attrs.push(newInfo1)\r\n          })\r\n          this.onlyTabData.forEach(item => {\r\n            const newInfo2 = { attr_id: item.attr_id, attr_vals: item.attr_vals }\r\n            this.addForm.attrs.push(newInfo2)\r\n          })\r\n          /* 将attrs传给拷贝对象 */\r\n          form.attrs = this.addForm.attrs\r\n\r\n          const { data: res } = await this.$http.post('goods', form)\r\n\r\n          if (res.meta.status !== 201) return this.$message.error('添加商品失败！')\r\n          this.$message.success('添加成功！')\r\n          this.$router.push('/goods')\r\n        }\r\n      )\r\n    }\r\n\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .el-checkbox{\r\n        margin: 0 10px 0 0 !important;\r\n    }\r\n    .previewImg{\r\n        width: 100%;\r\n    }\r\n    .el-button{\r\n        margin-top: 15px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=2ff1b2f2&scoped=true&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Add.vue?vue&type=style&index=0&id=2ff1b2f2&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ff1b2f2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品列表\")])],1),_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":function($event){return _vm.getGoodsList()}},model:{value:(_vm.paramsInfo.query),callback:function ($$v) {_vm.$set(_vm.paramsInfo, \"query\", $$v)},expression:\"paramsInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.getGoodsList()}},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addGoods}},[_vm._v(\"添加商品\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.goodsList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_name\",\"label\":\"商品名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_price\",\"label\":\"商品价格（元）\",\"width\":\"90\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_weight\",\"label\":\"商品重量\",\"width\":\"70\"}}),_c('el-table-column',{attrs:{\"prop\":\"add_time\",\"label\":\"创建时间\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(scope.row.add_time))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeById(scope.row.goods_id)}}})]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.paramsInfo.pagenum,\"page-sizes\":[10,20,50,100],\"page-size\":_vm.paramsInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n    <!-- 面包屑导航 -->\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n            <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n            <el-breadcrumb-item>商品列表</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n    <!-- 卡片试图 -->\r\n      <el-card>\r\n        <!-- 卡片头部 -->\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                <el-input placeholder=\"请输入内容\" v-model=\"paramsInfo.query\" clearable @clear=\"getGoodsList()\">\r\n                    <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getGoodsList()\"></el-button>\r\n                </el-input>\r\n            </el-col>\r\n            <el-col :span=\"4\">\r\n                <el-button type=\"primary\" @click=\"addGoods\">添加商品</el-button>\r\n            </el-col>\r\n        </el-row>\r\n        <!-- 列表区域 -->\r\n        <el-table :data=\"goodsList\"  border stripe>\r\n            <el-table-column type=\"index\"></el-table-column>\r\n            <el-table-column  prop=\"goods_name\"  label=\"商品名称\" ></el-table-column>\r\n            <el-table-column  prop=\"goods_price\"  label=\"商品价格（元）\" width=\"90\"></el-table-column>\r\n            <el-table-column  prop=\"goods_weight\"  label=\"商品重量\" width=\"70\"></el-table-column>\r\n            <el-table-column  prop=\"add_time\"  label=\"创建时间\" width=\"160\">\r\n                <template slot-scope=\"scope\">\r\n                    {{ scope.row.add_time | dateFormat}}\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column   label=\"操作\"  width=\"120\">\r\n                <template slot-scope=\"scope\">\r\n                    <!-- 编辑按钮 -->\r\n                    <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" >\r\n                    </el-button>\r\n                    <!-- 删除按钮 -->\r\n                    <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeById(scope.row.goods_id)\">\r\n                    </el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <!-- 页码区域 -->\r\n        <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"paramsInfo.pagenum\"\r\n                :page-sizes=\"[10,20,50,100]\"\r\n                :page-size=\"paramsInfo.pagesize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\">\r\n            </el-pagination>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n  data() {\r\n    return {\r\n      /* 传递的查询参数 */\r\n      paramsInfo: {\r\n        query: '',\r\n        pagenum: 1,\r\n        pagesize: 10\r\n      },\r\n      /* 保存获取的数据列表 */\r\n      goodsList: [],\r\n      /* 获取的数据总数 */\r\n      total: 0\r\n\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.getGoodsList()\r\n  },\r\n\r\n  methods: {\r\n\r\n    async getGoodsList() {\r\n      const { data: res } = await this.$http.get('goods', { params: this.paramsInfo })\r\n      if (res.meta.status !== 200) return this.$message.error('获取商品列表失败！')\r\n      this.goodsList = res.data.goods\r\n      this.total = res.data.total\r\n    },\r\n    handleSizeChange(newSize) {\r\n      this.paramsInfo.pagesize = newSize\r\n      this.getGoodsList()\r\n    },\r\n    handleCurrentChange(newPage) {\r\n      this.paramsInfo.pagenum = newPage\r\n      this.getGoodsList()\r\n    },\r\n    async removeById(id) {\r\n      const confirmResult = await this.$confirm('此操作将永久删除该参数, 是否继续?', '提示',\r\n        {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).catch(err => err)\r\n      if (confirmResult !== 'confirm') {\r\n        return this.$message.info('已取消删除！')\r\n      }\r\n      const { data: res } = await this.$http.delete(`goods/${id}`)\r\n      if (res.meta.status !== 200) return this.$message.error('删除失败！')\r\n      this.$message.success('删除成功！')\r\n      this.getGoodsList()\r\n    },\r\n    /* 跳转到添加商品页面 */\r\n    addGoods() {\r\n      this.$router.push('/goods/add')\r\n    }\r\n\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=973be3c8&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"973be3c8\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","path","_v","activeStepNum","ref","addForm","addFormRules","beforTabLeave","on","tabClicked","model","value","callback","$$v","expression","goods_name","$set","goods_price","goods_weight","goods_number","cateList","expandTrigger","cateProps","handleChange","goods_cat","_l","manyTabData","item","key","attr_id","attr_name","attr_vals","cb","i","onlyTabData","uploadUrl","handlePreview","handleRemove","handleSuccess","headersObj","staticClass","slot","goods_introduce","add","previewVisible","$event","previewPath","staticRenderFns","component","getGoodsList","paramsInfo","query","addGoods","goodsList","scopedSlots","_u","fn","scope","_s","_f","row","add_time","removeById","goods_id","pagenum","pagesize","total","handleSizeChange","handleCurrentChange"],"sourceRoot":""}